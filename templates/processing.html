{% extends "base.html" %}

{% block content %}
<div class="container">
    <h2>Data Processing</h2>
    <p>Process and prepare data for modeling by creating features and handling missing values</p>
    
    <div class="info-box">
        <h3>What this phase does:</h3>
        <ul>
            <li>Merges fixture events and team statistics data</li>
            <li>Creates rolling window features for team performance</li>
            <li>Generates head-to-head statistics between teams</li>
            <li>Creates league standings features</li>
            <li>Handles missing values and prepares final dataset</li>
        </ul>
    </div>
    
    <form method="POST" class="config-form">
        <div class="form-group">
            <label for="rolling_windows">Rolling Windows (comma-separated):</label>
            <input type="text" id="rolling_windows" name="rolling_windows" value="5">
            <small class="form-text">Number of matches to include in rolling averages (e.g., "3,5,10")</small>
        </div>
        
        <div class="form-group">
            <label for="min_matches">Minimum Matches:</label>
            <input type="number" id="min_matches" name="min_matches" value="5">
            <small class="form-text">Minimum number of matches required for a team to be included</small>
        </div>
        
        <div class="form-group">
            <label><input type="checkbox" name="drop_non_roll_features" checked> Drop Non-Rolling Features</label>
            <small class="form-text">Remove features that are not calculated using rolling windows</small>
        </div>
        
        <div class="form-group">
            <label><input type="checkbox" name="drop_original_metrics" checked> Drop Original Metrics</label>
            <small class="form-text">Remove original metrics after creating rolling features</small>
        </div>
        
        <div class="form-group">
            <label><input type="checkbox" name="drop_non_roll_standings" checked> Drop Non-Rolling Standings</label>
            <small class="form-text">Remove standings features that are not calculated using rolling windows</small>
        </div>
        
        <div class="form-group">
            <label><input type="checkbox" name="force_processing" checked> Force Processing</label>
            <small class="form-text">Re-process data even if it already exists</small>
        </div>
        
        <button type="submit" class="btn btn-primary">Run Processing</button>
    </form>
</div>
{% endblock %}